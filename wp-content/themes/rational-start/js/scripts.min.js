!function(e,t){"use strict";function i(e){this.callback=e,this.ticking=!1}function n(t){return t&&"undefined"!=typeof e&&(t===e||t.nodeType)}function s(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var t=e||{},i,o;for(o=1;o<arguments.length;o++){var a=arguments[o]||{};for(i in a)"object"!=typeof t[i]||n(t[i])?t[i]=t[i]||a[i]:t[i]=s(t[i],a[i])}return t}function o(e){return e===Object(e)?e:{down:e,up:e}}function a(e,t){t=s(t,a.options),this.lastKnownScrollY=0,this.elem=e,this.debouncer=new i(this.update.bind(this)),this.tolerance=o(t.tolerance),this.classes=t.classes,this.offset=t.offset,this.scroller=t.scroller,this.initialised=!1,this.onPin=t.onPin,this.onUnpin=t.onUnpin,this.onTop=t.onTop,this.onNotTop=t.onNotTop}var l={bind:!!function(){}.bind,classList:"classList"in t.documentElement,rAF:!!(e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame)};e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i.prototype={constructor:i,update:function(){"function"==typeof this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},a.prototype={constructor:a,init:function(){return a.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var e=this.classes;this.initialised=!1,this.elem.classList.remove(e.unpinned,e.pinned,e.top,e.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var e=this.elem.classList,t=this.classes;(e.contains(t.pinned)||!e.contains(t.unpinned))&&(e.add(t.unpinned),e.remove(t.pinned),"function"==typeof this.onUnpin&&this.onUnpin.call(this))},pin:function(){var e=this.elem.classList,t=this.classes;e.contains(t.unpinned)&&(e.remove(t.unpinned),e.add(t.pinned),"function"==typeof this.onUnpin&&this.onUnpin.call(this))},top:function(){var e=this.elem.classList,t=this.classes;e.contains(t.top)||(e.add(t.top),e.remove(t.notTop),"function"==typeof this.onTop&&this.onTop.call(this))},notTop:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notTop)||(e.add(t.notTop),e.remove(t.top),"function"==typeof this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(t.documentElement||t.body.parentNode||t.body).scrollTop},getViewportHeight:function(){return e.innerHeight||t.documentElement.clientHeight||t.body.clientHeight},getDocumentHeight:function(){var e=t.body,i=t.documentElement;return Math.max(e.scrollHeight,i.scrollHeight,e.offsetHeight,i.offsetHeight,e.clientHeight,i.clientHeight)},getElementHeight:function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},getScrollerHeight:function(){return this.scroller===e||this.scroller===t.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(e){var t=0>e,i=e+this.getViewportHeight()>this.getScrollerHeight();return t||i},toleranceExceeded:function(e,t){return Math.abs(e-this.lastKnownScrollY)>=this.tolerance[t]},shouldUnpin:function(e,t){var i=e>this.lastKnownScrollY,n=e>=this.offset;return i&&n&&t},shouldPin:function(e,t){var i=e<this.lastKnownScrollY,n=e<=this.offset;return i&&t||n},update:function(){var e=this.getScrollY(),t=e>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(e,t);this.isOutOfBounds(e)||(e<=this.offset?this.top():this.notTop(),this.shouldUnpin(e,i)?this.unpin():this.shouldPin(e,i)&&this.pin(),this.lastKnownScrollY=e)}},a.options={tolerance:{up:0,down:0},offset:0,scroller:e,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},a.cutsTheMustard="undefined"!=typeof l&&l.rAF&&l.bind&&l.classList,e.Headroom=a}(window,document);var navSiteToggle,navSite,navSiteParent,navSiteChildren,w=window,d=document,e=d.documentElement,g=d.getElementsByTagName("body")[0],x,resolutionBreakPoint=768,resolutionState=!1,resizeTimer,overlayDiv,overlayFadeSpeed=250,modalClose,modalShare,toggleShare,shareURL,shareTitle,urlEncoded,titleEncoded,prevFocus,tableElement,tableWrapperClass="table-wrapper",problemElements,widgetCategories,widgetsSidebar,widgetsSidebarHeader,widgetsToCollapse=[".widget_archive",".widget_categories",".widget_pages",".widget_meta",".widget_recent_comments",".widget_recent_entries",".widget_rss",".widget_nav_menu",".widget_calendar",".widget_text",".widget_tag_cloud",".widget_search"];jQuery.noConflict(),function($){function t(){switch(resolutionState){case"mobile":$("*:not(nav.site a)").unbind("focus"),$("nav.site a").unbind("focus");break;case"desktop":$("*:not(nav.site a)").focus(function(){$("nav.site .open").length>0&&$("nav.site .open").removeClass("open")}),$("nav.site a").focus(function(){var e=$(this).data("li-p"),t="undefined"!=typeof $(this).data("li-g")?$(this).data("li-g"):!1,i="undefined"!=typeof $(this).data("li-gg")?$(this).data("li-gg"):!1,n="nav.site li[data-li="+e+"]";return i?!1:void(t&&!i?$(n).hasClass("open")||($("nav.site .sub-menu li.open").removeClass("open"),$(n).addClass("open")):$(n).hasClass("open")||($("nav.site li.open").removeClass("open"),$(n).addClass("open")))})}}function i(){x=w.innerWidth||e.clientWidth||g.clientWidth,resolutionBreakPoint>x&&"mobile"!==resolutionState?(navSiteToggle.show(),navSite.hide(),$(".sub-menu-toggle").show(),navSiteChildren.hide(),widgetsSidebar.find("h4")>0&&(widgetsSidebar.children(":not(h4)").hide(),widgetsSidebarHeader.click(function(){$(this).toggleClass("active"),$(this).siblings().slideToggle()})),resolutionState="mobile",t()):x>=resolutionBreakPoint&&"desktop"!==resolutionState&&(navSiteToggle.removeAttr("style").removeClass("active"),navSite.removeAttr("style"),$(".sub-menu-toggle").hide().removeClass("active"),navSiteChildren.removeAttr("style"),widgetsSidebar.find("h4")>0&&(widgetsSidebar.children(":not(h4)").removeAttr("style"),widgetsSidebarHeader.unbind("click")),resolutionState="desktop",t())}function n(e,t){var i=[{name:"Facebook",url:"http://www.facebook.com/sharer.php?p[title]=<TITLE>&u=<URL>"},{name:"Twitter",url:"http://twitter.com/share?text=<TITLE>&url=<URL>"},{name:"Google",url:"https://plus.google.com/share?url=<URL>"},{name:"LinkedIn",url:"http://www.linkedin.com/shareArticle?mini=true&url=<URL>&title=<TITLE>"},{name:"Pinterest",url:"http://pinterest.com/pin/create/button/?url=<URL>&description=<TITLE>"},{name:"Tumblr",url:"http://www.tumblr.com/share/link?url=<URL>&amp;name=<TITLE>"}];urlEncoded=encodeURIComponent(e),titleEncoded=encodeURIComponent(t);for(var n='<nav class="social-share" role="navigation"><ul>',s=0;s<i.length;s++){var o=i[s].name.toLowerCase(),a=i[s].url.replace(/<URL>/,urlEncoded).replace(/<TITLE>/,titleEncoded);n+='<li><a class="'+o+'" href="'+a+'" target="_blank" title="Share on '+i[s].name+'">'+i[s].name+"</a></li>"}n+="</ul>","block"!==overlayDiv.css("display")&&overlayDiv.fadeIn(overlayFadeSpeed,function(){modalShare.addClass("visible").find(".content").html(n),modalShare.find("a:first").focus()})}$(function(){navSiteToggle=$(".nav-site-toggle"),navSite=$("nav.site"),navSiteParent=navSite.find(".parent"),navSiteChildren=navSite.find(".sub-menu, .children"),overlayDiv=$(".overlay"),modalClose=$(".modal-close, .overlay:not(.modal)"),modalShare=$(".modal-share"),toggleShare=$("button.share"),tableElement=$("table:not(#wp-calendar)"),problemElements=$("embed, iframe, object, .video-player"),widgetCategories=$(".widget_categories"),widgetsSidebar=$(widgetsToCollapse.join(",")),widgetsSidebarHeader=widgetsSidebar.find("h4"),i(),$(window).resize(function(){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){i()},300)}),navSiteToggle.click(function(){$(this).toggleClass("active"),navSite.slideToggle()}),navSiteParent.children("a").after('<button class="sub-menu-toggle btn btn-default pull-right"><i class="fa fa-angle-down"></i> <span class="sr-only">Toggle Subpages</span></button>'),$(".sub-menu-toggle").on("click",function(){$(this).toggleClass("active").siblings(".sub-menu, .children").slideToggle()}),modalClose.click(function(e){e.preventDefault(),$(".modal.visible").removeClass("visible"),overlayDiv.fadeOut(overlayFadeSpeed),prevFocus.focus()}),toggleShare.css({display:"inline-block"}).click(function(e){prevFocus=$(this),e.preventDefault(),shareURL=$(this).attr("href"),shareTitle=$(this).attr("title"),n(shareURL,shareTitle)}),tableElement.length>0&&(tableElement.each(function(){$(this).parent().hasClass(tableWrapperClass)||$(this).wrap('<div class="'+tableWrapperClass+' shadowed-right"><div class="table-scroll"></div></div>')}),$(".table-scroll").on("scroll",function(){$(this).scrollLeft()>0&&!$(this).parent().hasClass("shadowed-left")?$(this).parent().addClass("shadowed-left"):0===$(this).scrollLeft()&&$(this).parent().hasClass("shadowed-left")&&$(this).parent().removeClass("shadowed-left"),$(this).scrollLeft()<$(this).width()&&!$(this).parent().hasClass("shadowed-right")?$(this).parent().addClass("shadowed-right"):$(this).scrollLeft()>=$(this).find("table").width()-$(this).width()&&$(this).parent().hasClass("shadowed-right")&&$(this).parent().removeClass("shadowed-right")})),problemElements.length>0&&problemElements.each(function(){$(this).parent().hasClass("video-wrapper")||$(this).wrap('<div class="video-wrapper"/>')}),widgetCategories.length>0&&widgetCategories.each(function(){var e=$(this).find(".popularity"),t=0;e.length>0&&e.each(function(i){var n=parseInt($(this).data("post-count"));n>t&&(t=n),i===e.length-1&&e.each(function(){var e=parseInt($(this).data("post-count"))/t*100;$(this).css({width:e+"%"})})})}),$("nav.site li").each(function(e){var t=e+1;$(this).attr("data-li",t),$(this).children("a").attr("data-li-p",t),$(this).children(".sub-menu").find("a").attr("data-li-g",t),$(this).children(".sub-menu").find(".sub-menu").find("a").attr("data-li-gg",t)})})}(jQuery);